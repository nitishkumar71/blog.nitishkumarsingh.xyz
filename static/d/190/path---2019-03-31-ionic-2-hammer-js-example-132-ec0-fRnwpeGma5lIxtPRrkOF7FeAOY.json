{"data":{"markdownRemark":{"fields":{"slug":"/2019-03-31-ionic2-hammer-js-example/"},"frontmatter":{"title":"Ionic2 - Hammer JS Example","date":"13 March 2017","excerpt":"Gesture event support is also one of the reason behind popularity of mobile applications. Capturing gesture events can be easily done in case of native mobile applications, since all the mobile platform expose gesture events in native code.","html":"Gesture event support is also one of the reason behind popularity of mobile applications. Capturing gesture events can be easily done in case of native mobile applications, since all the mobile platform expose gesture events in native code. Since Hybrid mobile applications are built over html and  javascript,  html don't support gesture events.\n\nThere could be scenario's, where you wants to provide support for your hybrid mobile application. In such cases, we can use Hammer.JS . Angular version 2 also provides support for Hammer.JS, about the same we will look into this post.\n\nLet's say we want to design a simple box, which we can rotate in any direction as shown\n\n![Hammer JS With Ionic](/assets/ezgif.com-video-to-gif.gif \"Hammer JS With Ionic\")\n\nHere we are trying to rotate the box in any direction by using Gesture events. To perform rotation we need to use two fingers. Let's see how we can implement the same in Ionic. Let's create a blank application using command\n\n`ionic start hammerjsExample blank --v2`\n\nNow let's add Hammer.JS into our application using the command\n\n`npm install hammerjs --save`\n\nWe will implement rotation event, which is by default disabled. So first we need to enable rotation event. As we have mentioned earlier, angular version 2 also has support for Hammer.js. Let's see how we can achieve this.\n\nAngular defines defines one dependency token and one class, which can be used to customize behavior of Hammer.js. They are:\n\n* **HAMMER_GESTURE_CONFIG** : it can be used to provide HammerGestureConfig, which can be used to configure Hammer gestures\n* **HammerGestureConfig** : This class is helpful to override the default settings of Hammer. To know more about the gesture events configuration, please look into official documentation of Hammer.\n\nTo enable rotation first we need to import **HAMMER_GESTURE_CONFIG**, **HammerGestureConfig** into app.module.ts\n\n`import { HammerGestureConfig, HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';`\n\nNow let's create our own **CustomHammerConfig** class in app.module.ts, which will extend class **HammerGestureConfig** to override Hammer.js Configuration.\n\n`export class CustomHammerConfig extends HammerGestureConfig {`\n\n`overrides = {`\n\n`'rotate': { enable: true } //rotate is disabled by default, so we need to enable it`\n\n`}`\n\n`}`\n\nNow let's change providers in NgModule as shown\n\n`@NgModule({`\n\n`declarations: [`\n\n`MyApp,`\n\n`HomePage,`\n\n`RotateCustomeDirective`\n\n`],`\n\n`imports: [`\n\n`IonicModule.forRoot(MyApp)`\n\n`],`\n\n`bootstrap: [IonicApp],`\n\n`entryComponents: [`\n\n`MyApp,`\n\n`HomePage`\n\n`],`\n\n`providers: [{`\n\n`provide: ErrorHandler,`\n\n`useClass: IonicErrorHandler,`\n\n`}, {`\n\n`provide: HAMMER_GESTURE_CONFIG,`\n\n`useClass: CustomHammerConfig`\n\n`}]`\n\n`})`\n\n`export class AppModule { }`\n\nIn above code you can see **RotateCustomeDirective** in declarations section, for now just understand it's the directive we are going to implement. To capture Gesture events, let's create a directive. To create directive, create a folder directives named in _**src folder**_ of our ionic application. In directives folder, let's create a directive named **RotateCustomeDirective** in the file rotate-custom-directive.ts.\n\nLet's register **rotatemove** event using **HostListener**, as well as emit the output angle using **EventEmitter**. The output will be applied to change the angle of the object using style properties.\n\nOur custom directive **RotateCustomeDirective** code present in _**src/directives/rotate-custom-directive.ts**_ will look something as shown\n\n`import { Directive, Output, EventEmitter, HostListener } from '@angular/core'; `\n\n`@Directive({`\n\n`    selector: '[rotateCustom]'`\n\n`})`\n\n`export class RotateCustomeDirective {`\n\n`    @Output() angleChange = new EventEmitter<any>();`\n\n`    //although rotatestart is not required here, but we are keeping it here for reference purpose`\n\n`    /*`\n\n`    @HostListener('rotatestart', ['$event']) protected onRotateStart(event) {`\n\n`    event.preventDefault();`\n\n`    //put your code `\n\n`    }`\n\n`*/`\n\n`    @HostListener('rotatemove', ['$event']) protected onRotateMove(event) {`\n\n`    event.preventDefault();`\n\n`    this.angleChange.emit({ angle: event.angle });`\n\n`    }`\n\n`}`\n\nHere **angleChange** will be capture by the component, which will be rotated. it will return rotation angle which we will be using to implement rotation.\n\nLet's change the **HomePage**, to capture this event. First change the code for _**home.html**_, _**home.scss**_ and _**home.ts**_ as shown\n\n**home.html**\n\n`<ion-header>`\n\n`  <ion-navbar>`\n\n`    <ion-title>`\n\n`    Hammer JS Example`\n\n`    </ion-title>`\n\n`  </ion-navbar>`\n\n`</ion-header>`\n\n`<ion-content padding>`\n\n`  <div anglechange class=\"box\" event onrotation rotatecustom style.transform transformstyle>`\n\n`<div class=\"label\">`\n\n`{{title}}</div>`\n\n`</div>`\n\n`</ion-content>`\n\nhere we applied **rotateCustom** on the div and registering **OnRotation()** event to receive the angle for rotation. The received angle will be used to update style.transform css property using variable transformStyle.\n\n**home.scss**\n\n`page-home {`\n\n`}`\n\n`.box {`\n\n`    margin: 50px 0 0 50px;`\n\n`    width:200px;`\n\n`    height:200px;`\n\n`    background-color: #9933ff;       `\n\n`}`\n\n`.box .label{`\n\n`    text-align: center;`\n\n`    color: #fff;`\n\n`    font-weight: bold;`\n\n`    font-size: 16px;`\n\n`    padding: 45% 0 0 0;`\n\n`}`\n\n`.box:hover {`\n\n`    cursor:pointer;`\n\n`}`\n\n**home.ts**\n\n`import { Component } from '@angular/core';`\n\n`import { NavController} from 'ionic-angular';`\n\n`@Component({`\n\n`  selector: 'page-home',`\n\n`  templateUrl: 'home.html'`\n\n`})`\n\n`export class HomePage {`\n\n`  angle: Number;`\n\n`  transformStyle: String;`\n\n`  title = 'Rotate Me!';`\n\n`  constructor(public navCtrl: NavController) {`\n\n`    // set default angle to 0deg`\n\n`    this.angle=0;`\n\n`    this.transformStyle=\"rotate(0deg)\"; `\n\n`  }`\n\n`  onRotation(event: any): void {`\n\n`    this.angle=event.angle;`\n\n`    this.transformStyle=\"rotate(\"+this.angle+\"deg)\";`\n\n`  }`\n\n`}`\n\nIn constructor we applied zero degree be default. **onRotation** function will capture the angle and update the transform variable to apply changes in style.\n\nThat's it, we are ready to build and run our application in mobile.\n\n[Github Link for Example](https://github.com/nitishkumar71/hammerjsExample)","tags":["angular","Cordova","gesture","Hammer.js","Ionic"]},"id":"e8e8c67d-4793-554c-a7d3-24cbdd377223"}},"pageContext":{"pathSlug":"/2019-03-31-ionic2-hammer-js-example/","next":{"fields":{"slug":"/Ionic2-Cordova-Android-splash-screen-and-icon-is-not-working/"},"frontmatter":{"title":"Ionic2/Cordova - Android splash screen and icon is not working"},"fileAbsolutePath":"/media/nitish/3E1698381697EEE1/Practice/blog.nitishkumarsingh.xyz/posts/Ionic2-Cordova-Android-splash-screen-and-icon-is-not-working.md"},"previous":null}}