{"data":{"markdownRemark":{"fields":{"slug":"/2019-04-01-ionic2-how-to-use-d3-js/"},"frontmatter":{"title":"Ionic2 - How to use D3 JS","date":"03 February 2017","excerpt":"During the UI/Mobile app development, we all would have encountered need to use data visualization components. D3 JS is one of such powerful tool, being used for same.","tags":["angular","cordova","ionic","d3","types"]},"html":"<p><strong>Note: Purpose for this post is just to show, how to correctly use D3 JS in Ionic2</strong></p>\n<p>During the UI/Mobile app development, we all would have encountered need to use data visualization components. <a href=\"https://d3js.org/\">D3 JS</a> is one of such powerful tool, being used for same.</p>\n<p>Using D3 in Ionic1 was pretty easy. Since Ionic2 has moved on typescript and node modules based development, developers has been facing difficulties about how to include any third party libraries. D3 is one of such libraries. Here in this post we will look how we can include D3 into our ionic2 application.</p>\n<p><strong>Install Typings</strong></p>\n<p><a href=\"https://github.com/typings/typings\">Typings</a> is the simple way to manage and install TypeScript definitions. First we need to install typings, use given commnad in cmd/terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g typings</code></pre></div>\n<p><strong>Create Ionic2 blank application</strong></p>\n<p>use the below command to create blank ionic application</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ionic start --v2 myApp blank</code></pre></div>\n<p>this command will create an empty ionic2 project, which will contain two components app and home. app is your main component. you can include as many as page like home and use ionic navcontroller to navigate between them. For this post we don't need to include any more pages. the folder structure will look like as shown:</p>\n<p><img src=\"/assets/d3jsionicfolderstructure.png\" alt=\"D3 Folder Structure\" title=\"D3 Folder Structure\"></p>\n<p>navigate to the root folder myApp of your application into terminal/cmd, and search for typings of d3 using given command</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">typings search d3</code></pre></div>\n<p>This will list all the typings available for D3 js in npm, which will look something like this</p>\n<p><img src=\"/assets/d3typings.png\" alt=\"D3 Typings\" title=\"D3 Typings\"></p>\n<p>The purpose for above command is just to check availability of typings for d3.</p>\n<p>Now install d3 into your application using command</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">typings install d3 --save</code></pre></div>\n<p>once the d3 has been successfully installed. we are ready to use d3 into our application. Now all we have to do is import d3 into home.ts as shown</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import * as d3 from &#39;d3&#39;;</code></pre></div>\n<p>That's it, everthing is ready. we can now use D3 using \"d3\" object, which is the name we have given it during import. we can now call any D3 function such as pie(), arc() using d3 object as shown d3.pie();</p>\n<p>Here we are including an example, where we have d3 in <strong>home.ts</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { Component } from &#39;@angular/core&#39;;\nimport { Platform } from &#39;ionic-angular&#39;;\nimport * as d3 from &#39;d3&#39;;\n@Component({  \n    selector: &#39;page-home&#39;,  \n    templateUrl: &#39;home.html&#39;\n})\nexport class HomePage {  \n    constructor(private platform: Platform) \n    {  }  \n    \n    ngAfterViewInit() {    \n        this.createChart();  \n    }  \n    \n    createChart() {    \n        var data = [10, 20, 50];    \n        var width = this.platform.width()-50,      \n        height = this.platform.height()-200,      \n        radius = Math.min(width, height) / 2;    \n\n        var color = d3.scaleOrdinal()      \n        .range([&quot;#993300&quot;, &quot;#996600&quot;, &quot;#cc6600&quot;]); \n\n        var arc = d3.arc()      \n        .outerRadius(radius - 10)      \n        .innerRadius(0);    \n        \n        var labelArc = d3.arc()      \n        .outerRadius(radius - 40)      \n        .innerRadius(radius - 40);    \n        \n        var pie = d3.pie()      \n        .sort(null)      \n        .value(function (d) { return d; });    \n        \n        var svg = d3.select(&quot;.chart&quot;)      \n        .attr(&quot;width&quot;, width)      \n        .attr(&quot;height&quot;, height)      \n        .append(&quot;g&quot;)      \n        .attr(&quot;transform&quot;, &quot;translate(&quot; + width / 2 + &quot;,&quot; + height / 2 + &quot;)&quot;);   \n        \n        var g = svg.selectAll(&quot;.arc&quot;)      \n        .data(pie(data))      \n        .enter().append(&quot;g&quot;)      \n        .attr(&quot;class&quot;, &quot;arc&quot;);    \n        \n        g.append(&quot;path&quot;)      \n        .attr(&quot;d&quot;, arc)      \n        .style(&quot;fill&quot;, function (d) { return color(d.data); });  \n        \n        g.append(&quot;text&quot;)      \n        .attr(&quot;transform&quot;, function (d) { \n            return &quot;translate(&quot; + labelArc.centroid(d) + &quot;)&quot;; \n        })      \n        .attr(&quot;dy&quot;, &quot;.35em&quot;)      \n        .text(function (d) { return d.data; });  \n    }\n}</code></pre></div>\n<p>Cheers!! This was all we needed to begin our development for ionic2 using d3 js</p>\n<p><a href=\"https://github.com/nitishkumar71/Ionic2-D3Example\">Github Link</a></p>","id":"15b94fda-f1ec-5aca-8f9f-620f5f143a07"}},"pageContext":{"pathSlug":"/2019-04-01-ionic2-how-to-use-d3-js/","next":{"fields":{"slug":"/Ionic2-Cordova-Android-splash-screen-and-icon-is-not-working/"},"frontmatter":{"title":"Ionic2/Cordova - Android splash screen and icon is not working"},"fileAbsolutePath":"/media/nitish/3E1698381697EEE1/Practice/blog.nitishkumarsingh.xyz/posts/Ionic2-Cordova-Android-splash-screen-and-icon-is-not-working.md"},"previous":{"fields":{"slug":"/2019-04-01-ionic2-internationalization-using-ng2-translate/"},"frontmatter":{"title":"Ionic2 - Internationalization using ng2-translate"},"fileAbsolutePath":"/media/nitish/3E1698381697EEE1/Practice/blog.nitishkumarsingh.xyz/posts/2019-04-01-ionic2-internationalization-using-ng2-translate.md"}}}