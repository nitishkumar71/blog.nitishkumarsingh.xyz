<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:131.25%/1.38 'Yrsa','georgia',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Yrsa','georgia',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;color:inherit;font-family:'Exo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;color:inherit;font-family:'Exo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.27542rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;color:inherit;font-family:'Exo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.17608rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;color:inherit;font-family:'Exo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;color:inherit;font-family:'Exo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.92211rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;color:inherit;font-family:'Exo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.88547rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}ul{margin-left:1.38rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.38rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;font-size:0.85rem;line-height:1.38rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;font-size:0.92211rem;line-height:1.38rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:1.035rem;padding-right:0;padding-top:0;margin-bottom:1.38rem;font-size:1.08447rem;line-height:1.38rem;color:hsla(0,0%,0%,0.7);border-left:0.345rem solid hsla(0,0%,0%,0.87);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.38rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.38rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.38rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.38rem;margin-bottom:calc(1.38rem / 2);margin-top:calc(1.38rem / 2);}li > ul{margin-left:1.38rem;margin-bottom:calc(1.38rem / 2);margin-top:calc(1.38rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.38rem / 2);}code{font-size:0.85rem;line-height:1.38rem;}kbd{font-size:0.85rem;line-height:1.38rem;}samp{font-size:0.85rem;line-height:1.38rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.92rem;padding-right:0.92rem;padding-top:0.69rem;padding-bottom:calc(0.69rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:hsla(0,0%,0%,0.8);}a:hover{color:#3498DB;}h3,h4,h5,h6{margin-bottom:0.69rem;}@media only screen and (max-width:768px){blockquote{margin-left:-1.035rem;margin-right:0;padding-left:0.69rem;}}</style><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><title data-react-helmet="true">Nitishkumar&#x27;s Blog Home</title><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#292a2d"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><meta name="generator" content="Gatsby 2.1.4"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><style data-href="/styles.6176b723214f431f0d05.css">.icon-module--root--aZeph{display:inline-flex;align-items:center;justify-content:center}.icon-module--icon--1ihz7{fill:currentColor}.icon-module--label--fHC-f{position:relative;display:inline-block;margin-left:4px;line-height:1}.menu-module--mobileMenuContainer--T9wTN{display:none}@media (max-width:683px){.menu-module--mobileMenuContainer--T9wTN{display:flex}}.menu-module--desktopMenuContainer--3iXKR{display:block}@media (max-width:683px){.menu-module--desktopMenuContainer--3iXKR{display:none}}.menu-module--menu--dd4-Y{display:flex;flex:0 0 auto;align-items:center;justify-content:flex-start;max-width:100%;padding:0 15px;list-style:none;border-right:1px solid;margin:0 18px 0 auto}.menu-module--menu--dd4-Y li{margin:0 12px}.menu-module--menuTrigger--32seM{margin-right:10px;padding:0;line-height:0;background:none;color:inherit;border:none;box-shadow:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}.menu-module--menu--dd4-Y a{display:inline-block;margin-right:15px;text-decoration:none}.menu-module--menu--dd4-Y a:last-of-type{margin-right:0}.menu-module--mobileMenu--2VGmR{position:absolute;top:0;right:0;flex-direction:column;align-items:flex-start;background:#fafafa;margin:0;padding:0;text-align:left;list-style:none;border-radius:5px;overflow:hidden;z-index:99}.dark-theme .menu-module--mobileMenu--2VGmR{background:#252627}.menu-module--mobileMenu--2VGmR li{margin:0;white-space:nowrap}.menu-module--mobileMenu--2VGmR li a{display:block;padding:10px 15px}.menu-module--mobileMenuOverlay--2RcSs{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.2);z-index:10}.menu-module--themeToggle--2E8ye{line-height:0;padding:0 5px}.menu-module--subMenuTrigger--1crdm,.menu-module--themeToggle--2E8ye{background:none;color:inherit;border:none;box-shadow:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}.menu-module--subMenuTrigger--1crdm{font-size:inherit;font-weight:inherit;margin:0 12px;padding:0;cursor:pointer}.menu-module--subMenu--3Rgj_{position:absolute;max-width:300px;background:#fafafa;box-shadow:0 8px 20px rgba(0,0,0,.12);margin:0;padding:5px;list-style:none;border-radius:5px;top:35px;right:70px;overflow:hidden;z-index:99}.dark-theme .menu-module--subMenu--3Rgj_{background:#3b3d42}.menu-module--subMenu--3Rgj_ li{text-align:left;margin:0;white-space:nowrap}.menu-module--subMenu--3Rgj_ li a{padding:10px}.menu-module--subMenu--3Rgj_ li:hover{background:rgba(0,0,0,.05);border-radius:3px;cursor:pointer}.dark-theme .menu-module--subMenu--3Rgj_ li:hover{background:rgba(0,0,0,.15)}.menu-module--subMenuOverlay--3TQRy{position:fixed;top:0;bottom:0;left:0;right:0;z-index:-1}.menu-module--menuArrow--1COMf{display:inline-block;font-family:Inter UI;margin-left:5px;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.header-module--header--tFeG9{background:#fafafa;display:flex;align-items:center;justify-content:space-between;position:relative;padding:20px}.dark-theme .header-module--header--tFeG9{background:#252627}.header-module--header--tFeG9 a{text-decoration:none}.header-module--inner--7ao1M{justify-content:space-between;margin:0 auto;width:760px;max-width:100%}.header-module--inner--7ao1M,.header-module--logo--2kX-3{display:flex;align-items:center}.header-module--logo--2kX-3{text-decoration:none;font-weight:700}.header-module--logo--2kX-3 img{height:44px}.header-module--mark--J6C0c{margin-right:5px}.header-module--cursor--33Aoa{display:inline-block;width:10px;height:1rem;background:#fe5186;margin-left:5px;border-radius:1px;-webkit-animation:header-module--cursor--33Aoa 1s infinite;animation:header-module--cursor--33Aoa 1s infinite}.header-module--mark--J6C0c,.header-module--text--3UAQj{font-size:18px}.header-module--right--1Zeb6{display:flex;position:relative}@-webkit-keyframes header-module--cursor--33Aoa{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes header-module--cursor--33Aoa{0%{opacity:0}50%{opacity:1}to{opacity:0}}@font-face{font-family:Inter UI;font-style:normal;font-weight:400;src:url(/static/Inter-UI-Regular-ecf7c639683dfcb4868861e0c613c455.woff) format("woff")}@font-face{font-family:Inter UI;font-style:italic;font-weight:400;src:url(/static/Inter-UI-Italic-bcf654c7bea165e9dae257206c5521ad.woff) format("woff")}@font-face{font-family:Inter UI;font-style:normal;font-weight:600;src:url(/static/Inter-UI-Medium-48dfecfe37de0ef8f0e2c2d2e6992e9c.woff) format("woff")}@font-face{font-family:Inter UI;font-style:italic;font-weight:600;src:url(/static/Inter-UI-MediumItalic-a9eddc92c84c5f78fba1cb7d7833d31c.woff) format("woff")}@font-face{font-family:Inter UI;font-style:normal;font-weight:800;src:url(/static/Inter-UI-Bold-e2158f600a4b0175b73dfefb0d2fe8f8.woff) format("woff")}@font-face{font-family:Inter UI;font-style:italic;font-weight:800;src:url(/static/Inter-UI-BoldItalic-dbe4ec1d26d41331c91550939a7fd27f.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#a9a9b3;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1a1a1d!important;border-radius:8px}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#a9a9b3}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}div.code-toolbar{position:relative}div.code-toolbar>.toolbar{position:absolute;top:.3em;right:.2em;transition:opacity .3s ease-in-out;opacity:0}div.code-toolbar:hover>.toolbar{opacity:1}div.code-toolbar>.toolbar .toolbar-item{display:inline-block}div.code-toolbar>.toolbar a{cursor:pointer}div.code-toolbar>.toolbar button{background:none;border:0;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}div.code-toolbar>.toolbar a,div.code-toolbar>.toolbar button,div.code-toolbar>.toolbar span{color:#bbb;font-size:.8em;padding:0 .5em;background:#f5f2f0;background:hsla(0,0%,87.8%,.2);box-shadow:0 2px 0 0 rgba(0,0,0,.2);border-radius:.5em}div.code-toolbar>.toolbar a:focus,div.code-toolbar>.toolbar a:hover,div.code-toolbar>.toolbar button:focus,div.code-toolbar>.toolbar button:hover,div.code-toolbar>.toolbar span:focus,div.code-toolbar>.toolbar span:hover{color:inherit;text-decoration:none}.command-line-prompt{border-right:1px solid #999;display:block;float:left;font-size:100%;letter-spacing:-1px;margin-right:1em;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.command-line-prompt>span:before{color:#999;content:" ";display:block;padding-right:.8em}.command-line-prompt>span[data-user]:before{content:"[" attr(data-user) "@" attr(data-host) "] $"}.command-line-prompt>span[data-user=root]:before{content:"[" attr(data-user) "@" attr(data-host) "] #"}.command-line-prompt>span[data-prompt]:before{content:attr(data-prompt)}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{margin:0;padding:0;font-family:Inter UI,-apple-system,BlinkMacSystemFont,Roboto,Segoe UI,Helvetica,Arial,sans-serif;font-size:1rem;font-weight:600;line-height:1.54;background-color:#fff;color:#222;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-webkit-font-feature-settings:"liga","tnum","case","calt","zero","ss01","locl";font-feature-settings:"liga","tnum","case","calt","zero","ss01","locl";-webkit-overflow-scrolling:touch;-webkit-text-size-adjust:100%}@media (max-width:683px){body{font-size:1rem}}body.dark-theme{background-color:#292a2d;color:#a9a9b3}h1,h2,h3,h4,h5,h6{display:flex;align-items:center;line-height:1.3}h1{font-size:2.625rem}h2{font-size:1.625rem}h3{font-size:1.375rem}h4{font-size:1.125rem}@media (max-width:683px){h1{font-size:2rem}h2{font-size:1.4rem}h3{font-size:1.15rem}h4{font-size:1.125rem}}a{color:inherit}img{display:block;max-width:100%}img.center,img.left{margin-right:auto}img.center,img.right{margin-left:auto}figure{display:table;max-width:100%;margin:25px 0}figure.center,figure.left{margin-right:auto}figure.center,figure.right{margin-left:auto}figure figcaption{font-size:14px;margin-top:5px;opacity:.8}figure figcaption.left{text-align:left}figure figcaption.center{text-align:center}figure figcaption.right{text-align:right}code{font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;-webkit-font-feature-settings:normal;font-feature-settings:normal;background:#eaeaea;padding:1px 6px;margin:0 2px;border-radius:5px;font-size:.9rem}.dark-theme code{background:#3b3d42}pre{background:#1a1a1d;padding:20px;border-radius:8px;font-size:.9rem;overflow:auto}@media (max-width:683px){pre{white-space:pre-wrap;word-wrap:break-word}}pre code{background:none!important;color:#ccc;margin:0;padding:0;font-size:.9rem}blockquote{border-left:2px solid;margin:40px;padding:10px 20px}@media (max-width:683px){blockquote{margin:10px;padding:10px}}blockquote p:first-of-type{margin-top:0}blockquote p:last-of-type{margin-bottom:0}table{table-layout:fixed;border-collapse:collapse;width:100%;margin:40px 0;border-radius:5px}table,td,th{border:1px solid #222;padding:10px}.dark-theme table,.dark-theme td,.dark-theme th{border-color:#a9a9b3}th{background:#eaeaea}.dark-theme th{background:#3b3d42}ol,ul{margin-left:40px;padding:0}@media (max-width:683px){ol,ul{margin-left:20px}}ol ol{list-style-type:lower-alpha}button,input,textarea{font-family:Inter UI,-apple-system,BlinkMacSystemFont,Roboto,Segoe UI,Helvetica,Arial,sans-serif}.container{flex-direction:column;text-align:center}.container,.content{display:flex;justify-content:center}.content{flex-direction:column;flex:1 0 auto;align-items:center;margin:50px auto;width:100%}@media (max-width:683px){.content{margin-top:0}}@media (max-width:899px){.content{max-width:660px}}hr{width:100%;border:none;background:#dcdcdc;height:1px}.dark-theme hr{background:#4a4b50}.hidden{display:none}.embedVideo-container{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}.embedVideo-container iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0}footer{font-size:1rem;text-align:center;margin-bottom:50px}@media (max-width:683px){footer{display:flex;flex-direction:column}}footer .footerCopyrights:not(:first-of-type){margin-left:20px;padding-left:20px;border-left:1px solid}@media (max-width:683px){footer .footerCopyrights:not(:first-of-type){margin:0;padding:0;border:none}}.navigation-module--navigation--3Zfju{display:flex;width:1024px;max-width:100%;margin:80px 0 40px}.navigation-module--button--28kp3,.navigation-module--navigation--3Zfju{align-items:center;justify-content:center}.navigation-module--button--28kp3{position:relative;display:inline-flex;background:#eaeaea;font-size:1rem;font-weight:700;border-radius:8px;max-width:40%;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.dark-theme .navigation-module--button--28kp3{background:#3b3d42}.navigation-module--button--28kp3+.navigation-module--button--28kp3{margin-left:10px}.navigation-module--button--28kp3 a{display:flex;padding:8px 16px;text-decoration:none}.navigation-module--button--28kp3 a,.navigation-module--buttonText--1Xod2{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.navigation-module--iconNext--3xyJ-{margin-left:8px}.navigation-module--iconPrev--23mg1{margin-right:8px}.post-module--post--28Mq2{width:100%;max-width:800px;text-align:left;padding:20px;margin:0 auto 20px}.post-module--post--28Mq2:not(:last-of-type){border-bottom:1px solid #dcdcdc}.dark-theme .post-module--post--28Mq2:not(:last-of-type){border-color:#4a4b50}@media (max-width:899px){.post-module--post--28Mq2{max-width:660px}}.post-module--post--28Mq2 a{text-decoration:none}.post-module--post--28Mq2 h1{margin:0 0 10px}.post-module--coverImage--1GM7V,.post-module--post--28Mq2 img{border-radius:8px}.post-module--coverImage--1GM7V{margin-bottom:40px;box-shadow:0 15px 30px rgba(0,0,0,.1)}.post-module--meta--3YtjE{font-size:1rem;margin-bottom:20px}.post-module--readMore--3zWML{display:inline-block;text-decoration:none;font-weight:700;margin:20px 0;font-size:1rem}.post-module--postContent--1bfnt{position:relative}</style><link href="//fonts.googleapis.com/css?family=Exo:700|Yrsa:400,700" rel="stylesheet" type="text/css"/><link as="script" rel="preload" href="/styles-8f90ff345da97c0f7ea7.js"/><link as="script" rel="preload" href="/component---src-templates-page-js-60f68c72c9ad608780fc.js"/><link as="script" rel="preload" href="/2-d2759cf95fb877a41d73.js"/><link as="script" rel="preload" href="/1-f5437e2ba5ecc4814fb5.js"/><link as="script" rel="preload" href="/app-4a334f95dca5b37af2cc.js"/><link as="script" rel="preload" href="/webpack-runtime-99fe4860e6e8e1e78c35.js"/><link as="fetch" rel="preload" href="/static/d/154/path---2019-08-04-introduction-of-google-cloud-run-e-47-7bf-eAxlGdPldPRYrVhSTbth7hVzk.json" crossorigin="use-credentials"/></head><body class="dark-theme"><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="container"><header class="header-module--header--tFeG9"><div class="header-module--inner--7ao1M"><a href="/"><div class="header-module--logo--2kX-3"><span class="header-module--text--3UAQj">A lot of lengthy talks!</span></div></a><span class="header-module--right--1Zeb6"><div class="menu-module--mobileMenuContainer--T9wTN"><button class="menu-module--menuTrigger--32seM" style="color:inherit" type="button"><span class="icon-module--root--aZeph" style="cursor:pointer" role="figure"><svg version="1.1" width="24" height="24" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M4 34H40V30H4V34ZM4 24H40V20H4V24ZM4 10V14H40V10H4Z" class="icon-module--icon--1ihz7"></path></svg></span></button></div><div class="menu-module--desktopMenuContainer--3iXKR"><ul class="menu-module--menu--dd4-Y"><li><a href="https://twitter.com/Nitishkumar071" target="_blank">About</a></li></ul></div></span></div></header><div class="content"><div class="post-module--post--28Mq2"><div class="post-module--postContent--1bfnt"><h1>Introduction of Google Cloud Run</h1><div class="post-module--meta--3YtjE">04 August 2019</div><div><p>There has been always pretty much hype around serverless from the day one. Although, all the workload is only going to run on servers itself. If that is the case, then why we call it serverless?</p>
<p><img src="/assets/serverless-meme.jpg" alt="Serverless!? Doesn&#x27;t anyone relize there are still serveres?" title="Serverless!? Doesn&#x27;t anyone relize there are still serveres?"></p>
<p>The idea behind serverless is to provide an framework, where developers can build and deploy small applications quickly without being concerned about deployment overhead. If you need a lot of resources like high memory and lots of disk space, serverless is probably not a great approach. But If you can’t predict the volume, and you’re doing lots of small transactional workloads, then serverless is really good.</p>
<p>OK, so that was the same repeated information you will find in every other blogs. But do you know there has been great adoption of serverless framework by different cloud provideres. Even there are different open source frameworks, which allows us to host and deploy our serverless environment. Although, managing serverless environment is not that easy. There is a small learning curve around it.</p>
<p><strong>Some of the opensource framework for serverelss environments are:</strong></p>
<ol>
<li><a href="https://kubeless.io/">kubeless</a></li>
<li><a href="https://knative.dev/">knative</a></li>
<li><a href="https://fnproject.io/">fn</a></li>
<li><a href="http://openwhisk.apache.org/">openwhisk</a></li>
</ol>
<p><strong>Some of the managed services provided by cloud providers</strong></p>
<ol>
<li>Google Cloud Functions</li>
<li>AWS lambda</li>
<li>Azure functions</li>
</ol>
<p>We won't get into the details of all of them, as there is too much information provided around it. We would be looking into the Google Cloud Run, which is an managed service build on knative as depicted below</p>
<p><img src="/assets/cloud-run-on-gke.jpg" alt="Google Cloud Run" title="Google Cloud Run"></p>
<p><strong>So, what is special about Cloud Run?</strong> </p>
<p>Cloud Run follows the same principal of serverless, but allows developer to run containers in serverless environment. These containers could be your normal containers with any application packaged within them. </p>
<p><strong>How Cloud Run is different is from other managed serverless frameworks such as Google cloud functions, AWS lambda and etc?</strong></p>
<p>In other managed frameworks, we are dependent on cloud providers to support and language or framework, but in cloud run we can use any language or framework of our choice.</p>
<p><strong>Let's see an example of how we can deploy an django app on google cloud run</strong></p>
<ol>
<li>
<p><strong>Create Django APP</strong></p>
<p>We will not go in detail, about how an app can be created in django. Please follow the official <a href="https://docs.djangoproject.com/en/2.2/intro/tutorial01/">documentation</a> for the same. We have created an simple GET api. The final application structure would be something like below.</p>
<p><img src="/assets/cloud_run_django_app.png" alt="Cloud Run Django app" title="Cloud Run Django app"></p>
<p>There will be no <strong><em>Dockerfile</em></strong> and <strong><em>httpd-foreground</em></strong> by default, when django application get created.</p>
</li>
<li>
<p><strong>Write Docker File</strong></p>
<p>We won't be covering details about how this dockerfile works in this blog post.</p>
</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">        FROM alpine:3.9
        LABEL author=&quot;Nitishkumar Singh&quot;
        
        RUN apk --update --no-cache add python3 python3-dev apache2 apache2-dev  wget ca-certificates make gcc musl-dev;\
        ln -s pip3 /usr/bin/pip; pip install -U pip setuptools wheel
        
        # mod_wsgi compilation
        RUN wget -O /tmp/mod_wsgi.tar.gz https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/modwsgi/mod_wsgi-3.4.tar.gz &amp;&amp; \
            tar -C /tmp -xvf /tmp/mod_wsgi.tar.gz &amp;&amp; \
            rm /tmp/mod_wsgi.tar.gz
        
        WORKDIR /tmp/mod_wsgi-3.4
        RUN ln -s /usr/lib/libpython3.6m.so /usr/lib/libpython3.6.so &amp;&amp; \
            ./configure --with-python=/usr/bin/python3.6 --with-apxs=/usr/bin/apxs &amp;&amp; \
            make &amp;&amp; make install clean; rm -rf /tmp/mod_wsgi-3.4 \
        mkdir -p /var/www/my_django_app; mkdir -p /etc/apache2/sites-available/; \
        mkdir -p /etc/apache2/mods-available/
        
        WORKDIR /var/www/my_django_app
        COPY . /var/www/my_django_app
        
        # ARG PORT
        
        RUN echo -e &quot;import os\n\
        import sys\n\
        path=&#39;/var/www/my_django_app&#39;\n\
        if path not in sys.path:\n\
            sys.path.append(path)\n\
        os.environ[&#39;DJANGO_SETTINGS_MODULE&#39;] = &#39;my_django_app.settings&#39;\n\
        from django.core.wsgi import get_wsgi_application\n\
        application = get_wsgi_application()&quot; &gt;&gt; /var/www/my_django_app/django.wsgi; \
        sed -i -r &#39;s@#(LoadModule rewrite_module modules/mod_rewrite.so)@\1@i&#39; /etc/apache2/httpd.conf; \
        sed -i -r &#39;s@Errorlog .*@Errorlog /var/log/apache2/error.log@i&#39; /etc/apache2/httpd.conf; \
        sed -i -r &#39;s@#Servername .*@ServerName localhost@i&#39; /etc/apache2/httpd.conf; \
        sed -i -r &#39;s@Listen 80.*@Listen 8080@i&#39; /etc/apache2/httpd.conf; \
        echo -e &#39;Transferlog /dev/stdout\n\
        LoadModule wsgi_module modules/mod_wsgi.so\n\
        WSGIPythonPath /usr/lib/python3.6\n\
        WSGIScriptAlias / /var/www/my_django_app/django.wsgi\n\
        &lt;Directory /var/www/my_django_app&gt;\n\
            Options ExecCGI Indexes FollowSymLinks\n\
            AllowOverride All\n\
            Require all granted\n\
            &lt;Files django.wsgi&gt;\n\
                Require all granted\n\
            &lt;/Files&gt;\n\
        &lt;/Directory&gt;&#39; &gt;&gt; /etc/apache2/httpd.conf
        RUN pip install -r requirements.txt; chown apache:apache /etc/apache2/; \
        chown -R apache:apache /var/www/
        COPY httpd-foreground /usr/local/bin/
        EXPOSE 8080
        # ENTRYPOINT [&quot;httpd&quot;, &quot;-D&quot;, &quot;FOREGROUND&quot;, &quot;-e&quot;, &quot;info&quot;, &quot;&amp;&quot;]
        CMD [&quot;httpd-foreground&quot;]</code></pre></div>
<p>   Here we are exposing application on port 8080(default for Cloud  Run) and excecuting httpd-foreground file.</p>
<ol start="3">
<li><strong>Write httpd-foreground file</strong></li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">        #!/bin/sh
        set -e
        
        # Apache gets grumpy about PID files pre-existing
        rm -f /usr/local/apache2/logs/httpd.pid
        
        exec httpd -DFOREGROUND</code></pre></div>
<p>   httpd-foreground is an simple shell script, which we will be using to run apache on foreground.</p>
<ol start="4">
<li>
<p><strong>Build Docker Image and push to GCR</strong></p>
<p>Build docker image locally</p>
<p><code class="language-text">sudo docker build .</code></p>
<p><a href="https://cloud.google.com/container-registry/docs/pushing-and-pulling#tag_the_local_image_with_the_registry_name">Tag image to upload to GCR</a></p>
<p><code class="language-text">sudo docker tag &lt;IMAGE_ID&gt; asia.gcr.io/&lt;project_name&gt;/my_django_app</code></p>
<p><a href="https://cloud.google.com/container-registry/docs/pushing-and-pulling#push_the_tagged_image_to">Push Image to GCR</a><code class="language-text"></code></p>
<p><code class="language-text">sudo docker push asia.gcr.io/&lt;project_name&gt;/my_django_app</code></p>
</li>
<li>
<p><strong>Create Cloud Run Service</strong></p>
<p>Open Cloud Run Portal, and click on <strong>create service</strong></p>
<p><img src="/assets/create-service.png" alt="Create Service" title="Create create serviceService"></p>
<p>After click, you will be shown below page</p>
<p><img src="/assets/cloud-run-service-with-options.png" alt="Cloud Run with options" title="Cloud Run with options"></p>
<p>As, you would have noticed, you can set environment variables as well as configure multiple <a href="https://cloud.google.com/sql/docs/">Cloud SQL services</a>, which are needed to be accessed by Cloud RUN. You should only select <a href="https://cloud.google.com/run/docs/authenticating/public"><em><strong>Allow unauthenticated invocations</strong></em></a>, if and only if you want to allow end-points to be publicly accessible.</p>
<p>After selecting all the required options, your form will look something like this.</p>
<p><img src="/assets/screenshot_my_django_app_cloud_run.png" alt="Cloud Run With completed options" title="Cloud Run With completed options"></p>
<p>Click on create button to deploy the docker image. after successful deployment, you will be redirected to below page</p>
<p><img src="/assets/cloud_run_my_django_app_deployed.png" alt="Cloud Run Deployed" title="Cloud Run Deployed"></p>
<p>You can use <strong>URL</strong> to access the application, being deployed on cloud run. As visible from page, you can have multiple versions of app deployed. We can also redirect a part of traffic to test the canary releases.</p>
<p>That's it about how we can deploy an application on cloud run. To explore further follow the documentation of Google Cloud Run.</p>
<p>Django App <a href="https://github.com/nitishkumar71/blog/tree/master/google-cloud-run">GitLab Repository</a> for Cloud Run</p>
</li>
</ol>
<p><strong>Refrences</strong></p>
<ul>
<li><a href="https://twitter.com/ahmetb/status/1116041166359654400/photo/1"><strong>Google Cloud Run on VM and GKE</strong></a></li>
<li><a href="https://cloud.google.com/run/docs/"><strong>Google Cloud Run Docs</strong></a></li>
</ul></div><div class="navigation-module--navigation--3Zfju"><span class="navigation-module--button--28kp3"><a href="/2019-04-01-ionic-using-chart-js/"><span class="navigation-module--buttonText--1Xod2">Ionic - Using Chart.js</span><span class="navigation-module--iconNext--3xyJ-">→</span></a></span></div><div id="disqus_thread"></div></div></div></div><footer><span class="footerCopyrights">© 2019 <a href="https:/nitishkumarsingh.xyz/">Nitishkumar Singh</a></span></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'undefined', 'auto', {});
      
      
      
      }
      </script><script src="https://cdn.polyfill.io/v3/polyfill.min.js"></script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-page-js","jsonName":"2019-08-04-introduction-of-google-cloud-run-e47","path":"/2019-08-04-introduction-of-google-cloud-run/"};window.dataPath="154/path---2019-08-04-introduction-of-google-cloud-run-e-47-7bf-eAxlGdPldPRYrVhSTbth7hVzk";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-4a334f95dca5b37af2cc.js"],"component---src-templates-index-js":["/component---src-templates-index-js-adc9d65916aff345c41a.js"],"component---src-templates-page-js":["/component---src-templates-page-js-60f68c72c9ad608780fc.js"],"component---src-pages-404-js":["/component---src-pages-404-js-8692563d15293875a3e0.js"],"pages-manifest":["/pages-manifest-26530903ca4d1d4b1135.js"]};/*]]>*/</script><script src="/webpack-runtime-99fe4860e6e8e1e78c35.js" async=""></script><script src="/app-4a334f95dca5b37af2cc.js" async=""></script><script src="/1-f5437e2ba5ecc4814fb5.js" async=""></script><script src="/2-d2759cf95fb877a41d73.js" async=""></script><script src="/component---src-templates-page-js-60f68c72c9ad608780fc.js" async=""></script><script src="/styles-8f90ff345da97c0f7ea7.js" async=""></script></body></html>